# SPDX-License-Identifier: (GPL-2.0-only OR BSD-2-Clause)
%YAML 1.2
---
$id: "http://devicetree.org/schemas/iio/adc/adi,ade9112.yaml#"
$schema: "http://devicetree.org/meta-schemas/core.yaml#"

title: Analog Devices ADE9112 Energy Metering IC Device Tree Bindings

maintainers:
  - Anirban Bose <abose@outerspace.co>

description: |
  Device tree bindings for the Analog Devices ADE9112 energy metering IC, which is 
  connected over an SPI interface and may include optional interrupt and power 
  configuration.

properties:
  compatible:
    const: "adi,ade9112"

  reg:
    description: |
      The chip select address for the ADE9112 device on the SPI bus.
    maxItems: 1

  spi-max-frequency:
    description: |
      Maximum SPI clock frequency in Hz.
    minimum: 1
    maximum: 10000000  # 10 MHz maximum

  irq-gpios:
    description: |
      Optional GPIO to use for interrupt signaling.
    $ref: "/schemas/types.yaml#/definitions/phandle-array"

  status:
    description: |
      Device status, either enabled or disabled.
    enum: ["okay", "disabled"]

required:
  - compatible
  - reg
  - spi-max-frequency

additionalProperties: false

examples:
  - |
    spi@0 {
        ade9112: energy-meter@0 {
            compatible = "adi,ade9112";
            reg = <0>; /* Chip select 0 */
            spi-max-frequency = <1000000>; /* Maximum SPI frequency 1 MHz */
            irq-gpios = <&gpio4 15 GPIO_ACTIVE_LOW>; /* Optional interrupt GPIO */
            status = "okay";
        };
    };

